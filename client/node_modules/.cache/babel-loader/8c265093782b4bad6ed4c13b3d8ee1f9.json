{"ast":null,"code":"import _slicedToArray from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import CommentDisplay from'./comments/CommentDisplay';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Comments=function Comments(_ref){var post=_ref.post;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),comments=_useState2[0],setComments=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),showComments=_useState4[0],setShowComments=_useState4[1];var _useState5=useState(2),_useState6=_slicedToArray(_useState5,2),next=_useState6[0],setNext=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),replyComments=_useState8[0],setReplyComments=_useState8[1];useEffect(function(){var newCm=post.comments.filter(function(cm){return!cm.reply;});setComments(newCm);setShowComments(newCm.slice(newCm.length-next));},[post.comments,next]);useEffect(function(){var newReply=post.comments.filter(function(cm){return cm.reply;});setReplyComments(newReply);},[post.comments]);return/*#__PURE__*/_jsxs(\"div\",{className:\"comments\",children:[showComments.map(function(comment,index){return/*#__PURE__*/_jsx(CommentDisplay,{comment:comment,post:post,replyCm:replyComments.filter(function(item){return item.reply===comment._id;})},index);}),comments.length-next>0?/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setNext(next+10);},className:\"p-2 border-top\",style:{cursor:\"pointer\",color:\"crimson\"},children:\"Load more...\"}):comments.length>2&&/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){return setNext(2);},className:\"p-2 border-top\",style:{cursor:\"pointer\",color:\"crimson\"},children:\"Hide...\"})]});};export default Comments;","map":{"version":3,"names":["React","useState","useEffect","CommentDisplay","Comments","post","comments","setComments","showComments","setShowComments","next","setNext","replyComments","setReplyComments","newCm","filter","cm","reply","slice","length","newReply","map","comment","index","item","_id","cursor","color"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/components/home/Comments.js"],"sourcesContent":["import React, { useState, useEffect} from 'react'\r\nimport CommentDisplay from './comments/CommentDisplay'\r\n\r\nconst Comments = ({post}) => {\r\n  const [comments, setComments] = useState([]);\r\n  const [showComments, setShowComments] = useState([]);\r\n  const [next, setNext] = useState(2);\r\n  const [replyComments, setReplyComments] = useState([]);\r\n\r\n\r\n  useEffect(() => {\r\n    const newCm = post.comments.filter((cm) => !cm.reply);\r\n    setComments(newCm);\r\n    setShowComments(newCm.slice(newCm.length - next));\r\n  }, [post.comments, next]);\r\n\r\n  useEffect(() => {\r\n    const newReply = post.comments.filter((cm) => cm.reply);\r\n    setReplyComments(newReply);\r\n  }, [post.comments]);\r\n\r\n    return (\r\n      <div className=\"comments\">\r\n        {showComments.map((comment, index) => (\r\n          <CommentDisplay\r\n            key={index}\r\n            comment={comment}\r\n            post={post}\r\n            replyCm={replyComments.filter((item) => item.reply === comment._id)}\r\n          />\r\n        ))}\r\n        {comments.length - next > 0 ? (\r\n          <div\r\n            onClick={() => setNext(next + 10)}\r\n            className=\"p-2 border-top\"\r\n            style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n          >\r\n            Load more...\r\n          </div>\r\n        ) : (\r\n          comments.length > 2 && (\r\n            <div\r\n              onClick={() => setNext(2)}\r\n              className=\"p-2 border-top\"\r\n              style={{ cursor: \"pointer\", color: \"crimson\" }}\r\n            >\r\n              Hide...\r\n            </div>\r\n          )\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Comments\r\n"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA0C,OAA1C,CACA,MAAOC,eAAP,KAA2B,2BAA3B,C,wFAEA,GAAMC,SAAQ,CAAG,QAAXA,SAAW,MAAY,IAAVC,KAAU,MAAVA,IAAU,CAC3B,cAAgCJ,QAAQ,CAAC,EAAD,CAAxC,wCAAOK,QAAP,eAAiBC,WAAjB,eACA,eAAwCN,QAAQ,CAAC,EAAD,CAAhD,yCAAOO,YAAP,eAAqBC,eAArB,eACA,eAAwBR,QAAQ,CAAC,CAAD,CAAhC,yCAAOS,IAAP,eAAaC,OAAb,eACA,eAA0CV,QAAQ,CAAC,EAAD,CAAlD,yCAAOW,aAAP,eAAsBC,gBAAtB,eAGAX,SAAS,CAAC,UAAM,CACd,GAAMY,MAAK,CAAGT,IAAI,CAACC,QAAL,CAAcS,MAAd,CAAqB,SAACC,EAAD,QAAQ,CAACA,EAAE,CAACC,KAAZ,EAArB,CAAd,CACAV,WAAW,CAACO,KAAD,CAAX,CACAL,eAAe,CAACK,KAAK,CAACI,KAAN,CAAYJ,KAAK,CAACK,MAAN,CAAeT,IAA3B,CAAD,CAAf,CACD,CAJQ,CAIN,CAACL,IAAI,CAACC,QAAN,CAAgBI,IAAhB,CAJM,CAAT,CAMAR,SAAS,CAAC,UAAM,CACd,GAAMkB,SAAQ,CAAGf,IAAI,CAACC,QAAL,CAAcS,MAAd,CAAqB,SAACC,EAAD,QAAQA,GAAE,CAACC,KAAX,EAArB,CAAjB,CACAJ,gBAAgB,CAACO,QAAD,CAAhB,CACD,CAHQ,CAGN,CAACf,IAAI,CAACC,QAAN,CAHM,CAAT,CAKE,mBACE,aAAK,SAAS,CAAC,UAAf,WACGE,YAAY,CAACa,GAAb,CAAiB,SAACC,OAAD,CAAUC,KAAV,qBAChB,KAAC,cAAD,EAEE,OAAO,CAAED,OAFX,CAGE,IAAI,CAAEjB,IAHR,CAIE,OAAO,CAAEO,aAAa,CAACG,MAAd,CAAqB,SAACS,IAAD,QAAUA,KAAI,CAACP,KAAL,GAAeK,OAAO,CAACG,GAAjC,EAArB,CAJX,EACOF,KADP,CADgB,EAAjB,CADH,CASGjB,QAAQ,CAACa,MAAT,CAAkBT,IAAlB,CAAyB,CAAzB,cACC,YACE,OAAO,CAAE,yBAAMC,QAAO,CAACD,IAAI,CAAG,EAAR,CAAb,EADX,CAEE,SAAS,CAAC,gBAFZ,CAGE,KAAK,CAAE,CAAEgB,MAAM,CAAE,SAAV,CAAqBC,KAAK,CAAE,SAA5B,CAHT,0BADD,CASCrB,QAAQ,CAACa,MAAT,CAAkB,CAAlB,eACE,YACE,OAAO,CAAE,yBAAMR,QAAO,CAAC,CAAD,CAAb,EADX,CAEE,SAAS,CAAC,gBAFZ,CAGE,KAAK,CAAE,CAAEe,MAAM,CAAE,SAAV,CAAqBC,KAAK,CAAE,SAA5B,CAHT,qBAnBN,GADF,CA+BH,CAjDD,CAmDA,cAAevB,SAAf"},"metadata":{},"sourceType":"module"}