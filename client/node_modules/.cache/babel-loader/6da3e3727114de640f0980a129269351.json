{"ast":null,"code":"import _slicedToArray from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import Avatar from'../Avatar';import EditProfile from'./EditProfile';import FollowBtn from'../FollowBtn';import Following from'./Following';import Followers from'./Followers';import ChangePassword from'./ChangePassword';import{GLOBALTYPES}from'../../redux/actions/globalTypes';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Info=function Info(_ref){var id=_ref.id,auth=_ref.auth,profile=_ref.profile,dispatch=_ref.dispatch;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),onEdit=_useState4[0],setOnEdit=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),changePassword=_useState6[0],setChangePassword=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),showFollowers=_useState8[0],setShowFollowers=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),showFollowing=_useState10[0],setShowFollowing=_useState10[1];useEffect(function(){if(id===auth.user._id){setUserData([auth.user]);}else{var newData=profile.users.filter(function(user){return user._id===id;});setUserData(newData);}},[id,auth,dispatch,profile.users]);useEffect(function(){if(showFollowers||showFollowing||onEdit){dispatch({type:GLOBALTYPES.MODAL,payload:true});}else{dispatch({type:GLOBALTYPES.MODAL,payload:false});}},[showFollowers,showFollowing,onEdit,dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"info\",children:userData.map(function(user){return/*#__PURE__*/_jsxs(\"div\",{className:\"info_container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"outer-shadow d-flex justify-content-center align-items-center\",style:{borderRadius:\"50%\",height:\"170px\",width:\"170px\"},children:/*#__PURE__*/_jsx(Avatar,{src:user.avatar,size:\"supper-avatar\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"info_content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"info_content_title\",children:[/*#__PURE__*/_jsx(\"h2\",{children:user.username}),user._id===auth.user._id?/*#__PURE__*/_jsx(\"button\",{className:\"btn-1 outer-shadow hover-in-shadow\",onClick:function onClick(){return setOnEdit(true);},children:\"Edit Profile\"}):/*#__PURE__*/_jsx(FollowBtn,{user:user}),user._id===auth.user._id?/*#__PURE__*/_jsx(\"button\",{className:\"btn-1 outer-shadow hover-in-shadow\",onClick:function onClick(){return setChangePassword(true);},children:\"change password\"}):/*#__PURE__*/_jsx(FollowBtn,{user:user})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"follow_btn\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"mr-4\",onClick:function onClick(){return setShowFollowers(true);},children:[user.followers.length,\" Followers\"]}),/*#__PURE__*/_jsxs(\"span\",{className:\"ml-4\",onClick:function onClick(){return setShowFollowing(true);},children:[user.following.length,\" Following\"]})]}),/*#__PURE__*/_jsxs(\"h6\",{children:[user.fullname,\" \",/*#__PURE__*/_jsx(\"span\",{className:\"color-violet\",children:user.mobile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0\",children:user.address}),/*#__PURE__*/_jsx(\"h6\",{children:user.email}),/*#__PURE__*/_jsx(\"a\",{style:{textDecoration:\"none\"},href:user.website,target:\"_blank\",rel:\"noreferrer\",children:user.website}),/*#__PURE__*/_jsx(\"p\",{children:user.story})]}),onEdit&&/*#__PURE__*/_jsx(EditProfile,{setOnEdit:setOnEdit}),changePassword&&/*#__PURE__*/_jsx(ChangePassword,{setChangePassword:setChangePassword}),showFollowers&&/*#__PURE__*/_jsx(Followers,{users:user.followers,setShowFollowers:setShowFollowers}),showFollowing&&/*#__PURE__*/_jsx(Following,{users:user.following,setShowFollowing:setShowFollowing})]},user._id);})});};export default Info;","map":{"version":3,"names":["React","useState","useEffect","Avatar","EditProfile","FollowBtn","Following","Followers","ChangePassword","GLOBALTYPES","Info","id","auth","profile","dispatch","userData","setUserData","onEdit","setOnEdit","changePassword","setChangePassword","showFollowers","setShowFollowers","showFollowing","setShowFollowing","user","_id","newData","users","filter","type","MODAL","payload","map","borderRadius","height","width","avatar","username","followers","length","following","fullname","mobile","address","email","textDecoration","website","story"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/components/profile/Info.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\r\nimport Avatar from '../Avatar';\r\nimport EditProfile from './EditProfile';\r\nimport FollowBtn from '../FollowBtn';\r\nimport Following from './Following';\r\nimport Followers from './Followers';\r\nimport ChangePassword from './ChangePassword';\r\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\r\n\r\nconst Info = ({id, auth, profile, dispatch}) => {\r\n    const [userData, setUserData] = useState([]);\r\n    const [onEdit, setOnEdit] = useState(false);\r\n    const [changePassword, setChangePassword] = useState(false);\r\n\r\n    const [showFollowers, setShowFollowers] = useState(false);\r\n    const [showFollowing, setShowFollowing] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (id === auth.user._id) {\r\n          setUserData([auth.user]);\r\n      }else{\r\n        const newData = profile.users.filter(user => user._id === id);\r\n        setUserData(newData);\r\n      }\r\n    }, [id, auth, dispatch, profile.users]);\r\n\r\n    useEffect(() => {\r\n      if (showFollowers || showFollowing || onEdit) {\r\n        dispatch({ type: GLOBALTYPES.MODAL, payload: true });\r\n      } else {\r\n        dispatch({ type: GLOBALTYPES.MODAL, payload: false });\r\n      }\r\n    }, [showFollowers, showFollowing, onEdit, dispatch]);\r\n\r\n    return (\r\n      <div className=\"info\">\r\n        {userData.map((user) => (\r\n          <div key={user._id} className=\"info_container\">\r\n            <div\r\n              className=\"outer-shadow d-flex justify-content-center align-items-center\"\r\n              style={{ borderRadius: \"50%\", height: \"170px\", width: \"170px\" }}\r\n            >\r\n              <Avatar src={user.avatar} size=\"supper-avatar\" />\r\n            </div>\r\n\r\n            <div className=\"info_content\">\r\n              <div className=\"info_content_title\">\r\n                <h2>{user.username}</h2>\r\n                {user._id === auth.user._id ? (\r\n                  <button\r\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\r\n                    onClick={() => setOnEdit(true)}\r\n                  >\r\n                    Edit Profile\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n                {user._id === auth.user._id ? (\r\n                  <button\r\n                    className=\"btn-1 outer-shadow hover-in-shadow\"\r\n                    onClick={() => setChangePassword(true)}\r\n                  >\r\n                    change password\r\n                  </button>\r\n                ) : (\r\n                  <FollowBtn user={user} />\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"follow_btn\">\r\n                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\r\n                  {user.followers.length} Followers\r\n                </span>\r\n                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\r\n                  {user.following.length} Following\r\n                </span>\r\n              </div>\r\n\r\n              <h6>\r\n                {user.fullname}{\" \"}\r\n                <span className=\"color-violet\">{user.mobile}</span>\r\n              </h6>\r\n              <p className=\"m-0\">{user.address}</p>\r\n              <h6>{user.email}</h6>\r\n              <a\r\n                style={{ textDecoration: \"none\" }}\r\n                href={user.website}\r\n                target=\"_blank\"\r\n                rel=\"noreferrer\"\r\n              >\r\n                {user.website}\r\n              </a>\r\n              <p>{user.story}</p>\r\n            </div>\r\n\r\n            {onEdit && <EditProfile setOnEdit={setOnEdit} />}\r\n            {changePassword && <ChangePassword setChangePassword={setChangePassword} />}\r\n\r\n            {showFollowers && (\r\n              <Followers\r\n                users={user.followers}\r\n                setShowFollowers={setShowFollowers}\r\n              />\r\n            )}\r\n            {showFollowing && (\r\n              <Following\r\n                users={user.following}\r\n                setShowFollowing={setShowFollowing}\r\n              />\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Info\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}