{"ast":null,"code":"import _slicedToArray from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import Info from'../../components/profile/Info';import Posts from'../../components/profile/Posts';import{useSelector,useDispatch}from\"react-redux\";import LoadIcon from\"../../images/loading.gif\";import{getProfileUsers}from\"../../redux/actions/profileAction\";import Saved from'../../components/profile/Saved';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Profile=function Profile(){var _useSelector=useSelector(function(state){return state;}),profile=_useSelector.profile,auth=_useSelector.auth;var dispatch=useDispatch();var _useParams=useParams(),id=_useParams.id;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),saveTab=_useState2[0],setSaveTab=_useState2[1];useEffect(function(){if(profile.ids.every(function(item){return item!==id;})){dispatch(getProfileUsers({id:id,auth:auth}));}},[id,auth,dispatch,profile.ids]);return/*#__PURE__*/_jsxs(\"div\",{className:\"profile\",children:[/*#__PURE__*/_jsx(Info,{auth:auth,profile:profile,dispatch:dispatch,id:id}),auth.user._id===id&&/*#__PURE__*/_jsxs(\"div\",{className:\"profile_tab\",children:[/*#__PURE__*/_jsx(\"button\",{className:saveTab?\"\":\"active\",onClick:function onClick(){return setSaveTab(false);},children:\"posts\"}),/*#__PURE__*/_jsx(\"button\",{className:saveTab?\"active\":\"\",onClick:function onClick(){return setSaveTab(true);},children:\"saved\"})]}),profile.loading?/*#__PURE__*/_jsx(\"img\",{className:\"d-block mx-auto my-4\",src:LoadIcon,alt:\"Loading\"}):/*#__PURE__*/_jsx(_Fragment,{children:saveTab?/*#__PURE__*/_jsx(Saved,{auth:auth,dispatch:dispatch}):/*#__PURE__*/_jsx(Posts,{auth:auth,profile:profile,dispatch:dispatch,id:id})})]});};export default Profile;","map":{"version":3,"names":["React","useEffect","useState","useParams","Info","Posts","useSelector","useDispatch","LoadIcon","getProfileUsers","Saved","Profile","state","profile","auth","dispatch","id","saveTab","setSaveTab","ids","every","item","user","_id","loading"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/pages/profile/[id].js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport Info from '../../components/profile/Info';\r\nimport Posts from '../../components/profile/Posts';\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport LoadIcon  from \"../../images/loading.gif\";\r\nimport { getProfileUsers } from \"../../redux/actions/profileAction\";\r\nimport Saved from '../../components/profile/Saved';\r\n\r\nconst Profile = () => {\r\n  const { profile, auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const { id } = useParams();\r\n  const [saveTab, setSaveTab] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if(profile.ids.every(item => item !== id )){\r\n      dispatch(getProfileUsers({ id, auth }));\r\n\r\n    }\r\n  }, [id, auth, dispatch, profile.ids]);\r\n\r\n    return (\r\n      <div className=\"profile\">\r\n        <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n\r\n        {auth.user._id === id && (\r\n          <div className=\"profile_tab\">\r\n            <button\r\n              className={saveTab ? \"\" : \"active\"}\r\n              onClick={() => setSaveTab(false)}\r\n            >\r\n              posts\r\n            </button>\r\n            <button\r\n              className={saveTab ? \"active\" : \"\"}\r\n              onClick={() => setSaveTab(true)}\r\n            >\r\n              saved\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {profile.loading ? (\r\n          <img className=\"d-block mx-auto my-4\" src={LoadIcon} alt=\"Loading\" />\r\n        ) : (\r\n          <>\r\n            {\r\n              saveTab\r\n              ? <Saved auth={auth} dispatch={dispatch}  />\r\n              : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\r\n            }\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default Profile;\r\n"],"mappings":"6IAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,KAA0B,kBAA1B,CACA,MAAOC,KAAP,KAAiB,+BAAjB,CACA,MAAOC,MAAP,KAAkB,gCAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,MAAOC,SAAP,KAAsB,0BAAtB,CACA,OAASC,eAAT,KAAgC,mCAAhC,CACA,MAAOC,MAAP,KAAkB,gCAAlB,C,6IAEA,GAAMC,QAAO,CAAG,QAAVA,QAAU,EAAM,CACpB,iBAA0BL,WAAW,CAAC,SAAAM,KAAK,QAAIA,MAAJ,EAAN,CAArC,CAAQC,OAAR,cAAQA,OAAR,CAAiBC,IAAjB,cAAiBA,IAAjB,CACA,GAAMC,SAAQ,CAAGR,WAAW,EAA5B,CAEA,eAAeJ,SAAS,EAAxB,CAAQa,EAAR,YAAQA,EAAR,CACA,cAA8Bd,QAAQ,CAAC,KAAD,CAAtC,wCAAOe,OAAP,eAAgBC,UAAhB,eAEAjB,SAAS,CAAC,UAAM,CACd,GAAGY,OAAO,CAACM,GAAR,CAAYC,KAAZ,CAAkB,SAAAC,IAAI,QAAIA,KAAI,GAAKL,EAAb,EAAtB,CAAH,CAA2C,CACzCD,QAAQ,CAACN,eAAe,CAAC,CAAEO,EAAE,CAAFA,EAAF,CAAMF,IAAI,CAAJA,IAAN,CAAD,CAAhB,CAAR,CAED,CACF,CALQ,CAKN,CAACE,EAAD,CAAKF,IAAL,CAAWC,QAAX,CAAqBF,OAAO,CAACM,GAA7B,CALM,CAAT,CAOE,mBACE,aAAK,SAAS,CAAC,SAAf,wBACE,KAAC,IAAD,EAAM,IAAI,CAAEL,IAAZ,CAAkB,OAAO,CAAED,OAA3B,CAAoC,QAAQ,CAAEE,QAA9C,CAAwD,EAAE,CAAEC,EAA5D,EADF,CAGGF,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBP,EAAlB,eACC,aAAK,SAAS,CAAC,aAAf,wBACE,eACE,SAAS,CAAEC,OAAO,CAAG,EAAH,CAAQ,QAD5B,CAEE,OAAO,CAAE,yBAAMC,WAAU,CAAC,KAAD,CAAhB,EAFX,mBADF,cAOE,eACE,SAAS,CAAED,OAAO,CAAG,QAAH,CAAc,EADlC,CAEE,OAAO,CAAE,yBAAMC,WAAU,CAAC,IAAD,CAAhB,EAFX,mBAPF,GAJJ,CAoBGL,OAAO,CAACW,OAAR,cACC,YAAK,SAAS,CAAC,sBAAf,CAAsC,GAAG,CAAEhB,QAA3C,CAAqD,GAAG,CAAC,SAAzD,EADD,cAGC,yBAEIS,OAAO,cACL,KAAC,KAAD,EAAO,IAAI,CAAEH,IAAb,CAAmB,QAAQ,CAAEC,QAA7B,EADK,cAEL,KAAC,KAAD,EAAO,IAAI,CAAED,IAAb,CAAmB,OAAO,CAAED,OAA5B,CAAqC,QAAQ,CAAEE,QAA/C,CAAyD,EAAE,CAAEC,EAA7D,EAJN,EAvBJ,GADF,CAkCH,CAhDD,CAkDA,cAAeL,QAAf"},"metadata":{},"sourceType":"module"}