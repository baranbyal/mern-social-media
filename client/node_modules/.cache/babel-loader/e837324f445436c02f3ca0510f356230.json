{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _createForOfIteratorHelper from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";import _asyncToGenerator from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";export var checkImage=function checkImage(file){var err=\"\";if(!file){return err=\"File does not exist.\";}//?1 mb\nif(file.size>1024*1024){return err=\"File size must be less than 1 Mb.\";}if(file.type!=='image/jpeg'&&file.type!=='image/png'){return err=\"Image must be jpeg or png.\";}return err;};export var imageUpload=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(images){var imgArr,_iterator,_step,item,formData,res,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:imgArr=[];_iterator=_createForOfIteratorHelper(images);_context.prev=2;_iterator.s();case 4:if((_step=_iterator.n()).done){_context.next=19;break;}item=_step.value;formData=new FormData();if(item.camera){formData.append(\"file\",item.camera);}else{formData.append(\"file\",item);}formData.append(\"upload_preset\",\"ADD VALUE HERE\");formData.append(\"cloud_name\",\"ADD VALUE HERE\");_context.next=12;return fetch(\"ADD CLOUDINARY IMAGE UPLOAD LINK HERE\",{method:\"POST\",body:formData});case 12:res=_context.sent;_context.next=15;return res.json();case 15:data=_context.sent;imgArr.push({public_id:data.public_id,url:data.secure_url});case 17:_context.next=4;break;case 19:_context.next=24;break;case 21:_context.prev=21;_context.t0=_context[\"catch\"](2);_iterator.e(_context.t0);case 24:_context.prev=24;_iterator.f();return _context.finish(24);case 27:return _context.abrupt(\"return\",imgArr);case 28:case\"end\":return _context.stop();}}},_callee,null,[[2,21,24,27]]);}));return function imageUpload(_x){return _ref.apply(this,arguments);};}();","map":{"version":3,"names":["checkImage","file","err","size","type","imageUpload","images","imgArr","item","formData","FormData","camera","append","fetch","method","body","res","json","data","push","public_id","url","secure_url"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/utils/imageUpload.js"],"sourcesContent":["export const checkImage = (file) => {\r\n    let err = \"\";\r\n    if(!file){\r\n        return err = \"File does not exist.\";\r\n    }\r\n//?1 mb\r\n    if(file.size > 1024 * 1024){\r\n         return (err = \"File size must be less than 1 Mb.\");\r\n    }\r\n\r\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n      return (err = \"Image must be jpeg or png.\");\r\n    }\r\n\r\n    return err;\r\n}\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData();\r\n\r\n        if(item.camera){\r\n            formData.append(\"file\", item.camera);\r\n        }else{\r\n            formData.append(\"file\", item);  \r\n        }\r\n\r\n        \r\n        formData.append(\"upload_preset\", \"ADD VALUE HERE\");\r\n        formData.append(\"cloud_name\", \"ADD VALUE HERE\");\r\n\r\n        const res = await fetch(\"ADD CLOUDINARY IMAGE UPLOAD LINK HERE\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n\r\n        const data = await res.json();\r\n        imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n        \r\n      \r\n    }\r\n    return imgArr;\r\n}"],"mappings":"+cAAA,MAAO,IAAMA,WAAU,CAAG,QAAbA,WAAa,CAACC,IAAD,CAAU,CAChC,GAAIC,IAAG,CAAG,EAAV,CACA,GAAG,CAACD,IAAJ,CAAS,CACL,MAAOC,IAAG,CAAG,sBAAb,CACH,CACL;AACI,GAAGD,IAAI,CAACE,IAAL,CAAY,KAAO,IAAtB,CAA2B,CACtB,MAAQD,IAAG,CAAG,mCAAd,CACJ,CAED,GAAID,IAAI,CAACG,IAAL,GAAc,YAAd,EAA8BH,IAAI,CAACG,IAAL,GAAc,WAAhD,CAA6D,CAC3D,MAAQF,IAAG,CAAG,4BAAd,CACD,CAED,MAAOA,IAAP,CACH,CAfM,CAiBP,MAAO,IAAMG,YAAW,4FAAG,iBAAOC,MAAP,sKACnBC,MADmB,CACV,EADU,sCAELD,MAFK,8FAEbE,IAFa,aAGbC,QAHa,CAGF,GAAIC,SAAJ,EAHE,CAKnB,GAAGF,IAAI,CAACG,MAAR,CAAe,CACXF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,CAAwBJ,IAAI,CAACG,MAA7B,EACH,CAFD,IAEK,CACDF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,CAAwBJ,IAAxB,EACH,CAGDC,QAAQ,CAACG,MAAT,CAAgB,eAAhB,CAAiC,gBAAjC,EACAH,QAAQ,CAACG,MAAT,CAAgB,YAAhB,CAA8B,gBAA9B,EAbmB,uBAeDC,MAAK,CAAC,uCAAD,CAA0C,CAC7DC,MAAM,CAAE,MADqD,CAE7DC,IAAI,CAAEN,QAFuD,CAA1C,CAfJ,SAebO,GAfa,sCAoBAA,IAAG,CAACC,IAAJ,EApBA,SAoBbC,IApBa,eAqBnBX,MAAM,CAACY,IAAP,CAAY,CAAEC,SAAS,CAAEF,IAAI,CAACE,SAAlB,CAA6BC,GAAG,CAAEH,IAAI,CAACI,UAAvC,CAAZ,EArBmB,0PAyBhBf,MAzBgB,6EAAH,kBAAXF,YAAW,4CAAjB"},"metadata":{},"sourceType":"module"}