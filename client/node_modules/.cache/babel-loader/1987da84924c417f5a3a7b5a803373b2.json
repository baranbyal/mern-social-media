{"ast":null,"code":"import React from'react';import{useDispatch,useSelector}from'react-redux';import{deleteComment}from'../../../redux/actions/commentAction';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var CommentMenu=function CommentMenu(_ref){var post=_ref.post,comment=_ref.comment,setOnEdit=_ref.setOnEdit;var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth,socket=_useSelector.socket;var dispatch=useDispatch();var handleRemove=function handleRemove(){if(post.user._id===auth.user._id||comment.user._id===auth.user._id){dispatch(deleteComment({post:post,auth:auth,comment:comment,socket:socket}));}};var MenuItem=function MenuItem(){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:function onClick(){return setOnEdit(true);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-primary\",children:\"create\"}),\" Edit\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleRemove,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons text-red\",children:\"delete_outline\"}),\" Delete\"]})]});};return/*#__PURE__*/_jsx(\"div\",{className:\"menu\",children:(post.user._id===auth.user._id||comment.user._id===auth.user._id)&&/*#__PURE__*/_jsxs(\"div\",{className:\"nav-item dropdown\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",id:\"moreLink\",\"data-bs-toggle\":\"dropdown\",children:\"more_vert\"}),/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-menu\",\"aria-labelledby\":\"moreLink\",children:post.user._id===auth.user._id?comment.user._id===auth.user._id?MenuItem():/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown-item\",onClick:handleRemove,children:[/*#__PURE__*/_jsx(\"span\",{className:\"material-icons\",children:\"delete_outline\"}),\" Delete\"]}):comment.user._id===auth.user._id&&MenuItem()})]})});};export default CommentMenu;","map":{"version":3,"names":["React","useDispatch","useSelector","deleteComment","CommentMenu","post","comment","setOnEdit","state","auth","socket","dispatch","handleRemove","user","_id","MenuItem"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/components/home/comments/CommentMenu.js"],"sourcesContent":["import React from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport { deleteComment } from '../../../redux/actions/commentAction';\r\n\r\nconst CommentMenu = ({ post, comment, setOnEdit }) => {\r\n  const { auth, socket } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const handleRemove = () => {\r\n    if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\r\n      dispatch(deleteComment({ post, auth, comment, socket }));\r\n    }\r\n  };\r\n\r\n  const MenuItem = () => {\r\n    return (\r\n      <>\r\n        <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\r\n          <span className=\"material-icons text-primary\">create</span> Edit\r\n        </div>\r\n        <div className=\"dropdown-item\" onClick={handleRemove}>\r\n          <span className=\"material-icons text-red\">delete_outline</span> Delete\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n  return (\r\n    <div className=\"menu\">\r\n      {(post.user._id === auth.user._id ||\r\n        comment.user._id === auth.user._id) && (\r\n        <div className=\"nav-item dropdown\">\r\n          <span\r\n            className=\"material-icons\"\r\n            id=\"moreLink\"\r\n            data-bs-toggle=\"dropdown\"\r\n          >\r\n            more_vert\r\n          </span>\r\n          <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\r\n            {post.user._id === auth.user._id ? (\r\n              comment.user._id === auth.user._id ? (\r\n                MenuItem()\r\n              ) : (\r\n                <div className=\"dropdown-item\" onClick={handleRemove}>\r\n                  <span className=\"material-icons\">delete_outline</span> Delete\r\n                </div>\r\n              )\r\n            ) : (\r\n              comment.user._id === auth.user._id && MenuItem()\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CommentMenu\r\n"],"mappings":"AAAA,MAAOA,MAAP,KAAkB,OAAlB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,aAAT,KAA8B,sCAA9B,C,6IAEA,GAAMC,YAAW,CAAG,QAAdA,YAAc,MAAkC,IAA/BC,KAA+B,MAA/BA,IAA+B,CAAzBC,OAAyB,MAAzBA,OAAyB,CAAhBC,SAAgB,MAAhBA,SAAgB,CACpD,iBAAyBL,WAAW,CAAC,SAAAM,KAAK,QAAIA,MAAJ,EAAN,CAApC,CAAQC,IAAR,cAAQA,IAAR,CAAcC,MAAd,cAAcA,MAAd,CACA,GAAMC,SAAQ,CAAGV,WAAW,EAA5B,CAEA,GAAMW,aAAY,CAAG,QAAfA,aAAe,EAAM,CACzB,GAAGP,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBL,IAAI,CAACI,IAAL,CAAUC,GAA5B,EAAmCR,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GAArE,CAAyE,CACvEH,QAAQ,CAACR,aAAa,CAAC,CAAEE,IAAI,CAAJA,IAAF,CAAQI,IAAI,CAAJA,IAAR,CAAcH,OAAO,CAAPA,OAAd,CAAuBI,MAAM,CAANA,MAAvB,CAAD,CAAd,CAAR,CACD,CACF,CAJD,CAMA,GAAMK,SAAQ,CAAG,QAAXA,SAAW,EAAM,CACrB,mBACE,wCACE,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAE,yBAAMR,UAAS,CAAC,IAAD,CAAf,EAAxC,wBACE,aAAM,SAAS,CAAC,6BAAhB,oBADF,WADF,cAIE,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAEK,YAAxC,wBACE,aAAM,SAAS,CAAC,yBAAhB,4BADF,aAJF,GADF,CAUD,CAXD,CAYA,mBACE,YAAK,SAAS,CAAC,MAAf,UACG,CAACP,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBL,IAAI,CAACI,IAAL,CAAUC,GAA5B,EACAR,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GADhC,gBAEC,aAAK,SAAS,CAAC,mBAAf,wBACE,aACE,SAAS,CAAC,gBADZ,CAEE,EAAE,CAAC,UAFL,CAGE,iBAAe,UAHjB,uBADF,cAQE,YAAK,SAAS,CAAC,eAAf,CAA+B,kBAAgB,UAA/C,UACGT,IAAI,CAACQ,IAAL,CAAUC,GAAV,GAAkBL,IAAI,CAACI,IAAL,CAAUC,GAA5B,CACCR,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GAA/B,CACEC,QAAQ,EADV,cAGE,aAAK,SAAS,CAAC,eAAf,CAA+B,OAAO,CAAEH,YAAxC,wBACE,aAAM,SAAS,CAAC,gBAAhB,4BADF,aAJH,CASCN,OAAO,CAACO,IAAR,CAAaC,GAAb,GAAqBL,IAAI,CAACI,IAAL,CAAUC,GAA/B,EAAsCC,QAAQ,EAVlD,EARF,GAHJ,EADF,CA6BD,CAnDD,CAqDA,cAAeX,YAAf"},"metadata":{},"sourceType":"module"}