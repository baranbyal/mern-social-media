{"ast":null,"code":"export const checkImage = file => {\n  let err = \"\";\n\n  if (!file) {\n    return err = \"File does not exist.\";\n  } //?1 mb\n\n\n  if (file.size > 1024 * 1024) {\n    return err = \"File size must be less than 1 Mb.\";\n  }\n\n  if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\n    return err = \"Image must be jpeg or png.\";\n  }\n\n  return err;\n};\nexport const imageUpload = async images => {\n  let imgArr = [];\n\n  for (const item of images) {\n    const formData = new FormData();\n\n    if (item.camera) {\n      formData.append(\"file\", item.camera);\n    } else {\n      formData.append(\"file\", item);\n    }\n\n    formData.append(\"upload_preset\", \"ADD VALUE HERE\");\n    formData.append(\"cloud_name\", \"ADD VALUE HERE\");\n    const res = await fetch(\"ADD CLOUDINARY IMAGE UPLOAD LINK HERE\", {\n      method: \"POST\",\n      body: formData\n    });\n    const data = await res.json();\n    imgArr.push({\n      public_id: data.public_id,\n      url: data.secure_url\n    });\n  }\n\n  return imgArr;\n};","map":{"version":3,"names":["checkImage","file","err","size","type","imageUpload","images","imgArr","item","formData","FormData","camera","append","res","fetch","method","body","data","json","push","public_id","url","secure_url"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/utils/imageUpload.js"],"sourcesContent":["export const checkImage = (file) => {\r\n    let err = \"\";\r\n    if(!file){\r\n        return err = \"File does not exist.\";\r\n    }\r\n//?1 mb\r\n    if(file.size > 1024 * 1024){\r\n         return (err = \"File size must be less than 1 Mb.\");\r\n    }\r\n\r\n    if (file.type !== 'image/jpeg' && file.type !== 'image/png') {\r\n      return (err = \"Image must be jpeg or png.\");\r\n    }\r\n\r\n    return err;\r\n}\r\n\r\nexport const imageUpload = async (images) => {\r\n    let imgArr = [];\r\n    for(const item of images){\r\n        const formData = new FormData();\r\n\r\n        if(item.camera){\r\n            formData.append(\"file\", item.camera);\r\n        }else{\r\n            formData.append(\"file\", item);  \r\n        }\r\n\r\n        \r\n        formData.append(\"upload_preset\", \"ADD VALUE HERE\");\r\n        formData.append(\"cloud_name\", \"ADD VALUE HERE\");\r\n\r\n        const res = await fetch(\"ADD CLOUDINARY IMAGE UPLOAD LINK HERE\", {\r\n            method: \"POST\",\r\n            body: formData\r\n        })\r\n\r\n        const data = await res.json();\r\n        imgArr.push({ public_id: data.public_id, url: data.secure_url });\r\n        \r\n      \r\n    }\r\n    return imgArr;\r\n}"],"mappings":"AAAA,OAAO,MAAMA,UAAU,GAAIC,IAAD,IAAU;EAChC,IAAIC,GAAG,GAAG,EAAV;;EACA,IAAG,CAACD,IAAJ,EAAS;IACL,OAAOC,GAAG,GAAG,sBAAb;EACH,CAJ+B,CAKpC;;;EACI,IAAGD,IAAI,CAACE,IAAL,GAAY,OAAO,IAAtB,EAA2B;IACtB,OAAQD,GAAG,GAAG,mCAAd;EACJ;;EAED,IAAID,IAAI,CAACG,IAAL,KAAc,YAAd,IAA8BH,IAAI,CAACG,IAAL,KAAc,WAAhD,EAA6D;IAC3D,OAAQF,GAAG,GAAG,4BAAd;EACD;;EAED,OAAOA,GAAP;AACH,CAfM;AAiBP,OAAO,MAAMG,WAAW,GAAG,MAAOC,MAAP,IAAkB;EACzC,IAAIC,MAAM,GAAG,EAAb;;EACA,KAAI,MAAMC,IAAV,IAAkBF,MAAlB,EAAyB;IACrB,MAAMG,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;;IAEA,IAAGF,IAAI,CAACG,MAAR,EAAe;MACXF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwBJ,IAAI,CAACG,MAA7B;IACH,CAFD,MAEK;MACDF,QAAQ,CAACG,MAAT,CAAgB,MAAhB,EAAwBJ,IAAxB;IACH;;IAGDC,QAAQ,CAACG,MAAT,CAAgB,eAAhB,EAAiC,gBAAjC;IACAH,QAAQ,CAACG,MAAT,CAAgB,YAAhB,EAA8B,gBAA9B;IAEA,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAAC,uCAAD,EAA0C;MAC7DC,MAAM,EAAE,MADqD;MAE7DC,IAAI,EAAEP;IAFuD,CAA1C,CAAvB;IAKA,MAAMQ,IAAI,GAAG,MAAMJ,GAAG,CAACK,IAAJ,EAAnB;IACAX,MAAM,CAACY,IAAP,CAAY;MAAEC,SAAS,EAAEH,IAAI,CAACG,SAAlB;MAA6BC,GAAG,EAAEJ,IAAI,CAACK;IAAvC,CAAZ;EAGH;;EACD,OAAOf,MAAP;AACH,CA1BM"},"metadata":{},"sourceType":"module"}