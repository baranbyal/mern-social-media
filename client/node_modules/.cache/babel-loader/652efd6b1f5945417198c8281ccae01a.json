{"ast":null,"code":"import _defineProperty from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/baran/Documents/baris/mern-social-media/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link,useHistory}from\"react-router-dom\";import{adminLogin,login}from\"../redux/actions/authAction\";import{useDispatch,useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var initialState={email:\"\",password:\"\"};var _useState=useState(initialState),_useState2=_slicedToArray(_useState,2),userData=_useState2[0],setUserData=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),userType=_useState4[0],setUserType=_useState4[1];var email=userData.email,password=userData.password;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),typePass=_useState6[0],setTypePass=_useState6[1];var _useSelector=useSelector(function(state){return state;}),auth=_useSelector.auth;var dispatch=useDispatch();var history=useHistory();useEffect(function(){if(auth.token)history.push(\"/\");},[auth.token,history]);var handleChangeInput=function handleChangeInput(e){var _e$target=e.target,name=_e$target.name,value=_e$target.value;setUserData(_objectSpread(_objectSpread({},userData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();if(!userType){dispatch(login(userData));}else{dispatch(adminLogin(userData));}};return/*#__PURE__*/_jsx(\"div\",{className:\"auth_page\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"inner-shadow\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-uppercase text-center mb-4 auth-heading \",children:\"Campus Connect\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputEmail1\",className:\"form-label\",children:\"Email address\"}),/*#__PURE__*/_jsx(\"div\",{className:\"outer-shadow hover-in-shadow form-input-wrap\",children:/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control \",id:\"exampleInputEmail1\",\"aria-describedby\":\"emailHelp\",onChange:handleChangeInput,value:email,name:\"email\"})}),/*#__PURE__*/_jsx(\"div\",{id:\"emailHelp\",className:\"form-text\",children:\"We'll never share your email with anyone else.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"exampleInputPassword1\",className:\"form-label\",children:\"Password\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pass\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"outer-shadow hover-in-shadow form-input-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{type:typePass?\"text\":\"password\",className:\"form-control\",id:\"exampleInputPassword1\",onChange:handleChangeInput,value:password,name:\"password\"}),/*#__PURE__*/_jsx(\"small\",{onClick:function onClick(){return setTypePass(!typePass);},children:typePass?\"Hide\":\"Show\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-evenly  mx-0 mb-4\",children:[/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"User\",children:[\"User:\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"User\",name:\"gender\",value:userType,defaultChecked:true,onClick:function onClick(){return setUserType(false);}})]}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"Admin\",children:[\"Admin:\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"Admin\",name:\"gender\",value:userType,onClick:function onClick(){return setUserType(true);}})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\",disabled:email&&password?false:true,children:\"Login\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"my-2\",children:[\"Don't have an account?\",\" \",/*#__PURE__*/_jsx(Link,{to:\"/register\",style:{color:\"crimson\"},children:\"Register Now.\"})]})]})});};export default Login;","map":{"version":3,"names":["React","useState","useEffect","Link","useHistory","adminLogin","login","useDispatch","useSelector","Login","initialState","email","password","userData","setUserData","userType","setUserType","typePass","setTypePass","state","auth","dispatch","history","token","push","handleChangeInput","e","target","name","value","handleSubmit","preventDefault","color"],"sources":["C:/Users/baran/Documents/baris/mern-social-media/client/src/pages/login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { adminLogin, login } from \"../redux/actions/authAction\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\n\r\nconst Login = () => {\r\n  const initialState = { email: \"\", password: \"\" };\r\n  const [userData, setUserData] = useState(initialState);\r\n  const [userType, setUserType] = useState(false);\r\n  const { email, password } = userData;\r\n\r\n  const [typePass, setTypePass] = useState(false);\r\n\r\n  const { auth } = useSelector((state) => state);\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    if (auth.token) history.push(\"/\");\r\n  }, [auth.token, history]);\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserData({ ...userData, [name]: value });\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!userType) {\r\n      dispatch(login(userData));\r\n    } else {\r\n      dispatch(adminLogin(userData));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"auth_page\">\r\n      <form onSubmit={handleSubmit} className=\"inner-shadow\">\r\n        <h3 className=\"text-uppercase text-center mb-4 auth-heading \">\r\n          Campus Connect\r\n        </h3>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputEmail1\" className=\"form-label\">\r\n            Email address\r\n          </label>\r\n          <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n            <input\r\n              type=\"email\"\r\n              className=\"form-control \"\r\n              id=\"exampleInputEmail1\"\r\n              aria-describedby=\"emailHelp\"\r\n              onChange={handleChangeInput}\r\n              value={email}\r\n              name=\"email\"\r\n            />\r\n          </div>\r\n          <div id=\"emailHelp\" className=\"form-text\">\r\n            We'll never share your email with anyone else.\r\n          </div>\r\n        </div>\r\n        <div className=\"mb-3\">\r\n          <label htmlFor=\"exampleInputPassword1\" className=\"form-label\">\r\n            Password\r\n          </label>\r\n          <div className=\"pass\">\r\n            <div className=\"outer-shadow hover-in-shadow form-input-wrap\">\r\n              <input\r\n                type={typePass ? \"text\" : \"password\"}\r\n                className=\"form-control\"\r\n                id=\"exampleInputPassword1\"\r\n                onChange={handleChangeInput}\r\n                value={password}\r\n                name=\"password\"\r\n              />\r\n              <small onClick={() => setTypePass(!typePass)}>\r\n                {typePass ? \"Hide\" : \"Show\"}\r\n              </small>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"d-flex justify-content-evenly  mx-0 mb-4\">\r\n          <label htmlFor=\"User\">\r\n            User:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"User\"\r\n              name=\"gender\"\r\n              value={userType}\r\n              defaultChecked\r\n              onClick={() => setUserType(false)}\r\n            />\r\n          </label>\r\n\r\n          <label htmlFor=\"Admin\">\r\n            Admin:\r\n            <input\r\n              type=\"radio\"\r\n              id=\"Admin\"\r\n              name=\"gender\"\r\n              value={userType}\r\n              onClick={() => setUserType(true)}\r\n            />\r\n          </label>\r\n        </div>\r\n\r\n        <button\r\n          type=\"submit\"\r\n          className=\"btn-1 w-100 d-flex outer-shadow hover-in-shadow justify-content-center\"\r\n          disabled={email && password ? false : true}\r\n        >\r\n          Login\r\n        </button>\r\n        <p className=\"my-2\">\r\n          Don't have an account?{\" \"}\r\n          <Link to=\"/register\" style={{ color: \"crimson\" }}>\r\n            Register Now.\r\n          </Link>\r\n        </p>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"waAAA,MAAOA,MAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OAASC,IAAT,CAAeC,UAAf,KAAiC,kBAAjC,CACA,OAASC,UAAT,CAAqBC,KAArB,KAAkC,6BAAlC,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,C,wFAEA,GAAMC,MAAK,CAAG,QAARA,MAAQ,EAAM,CAClB,GAAMC,aAAY,CAAG,CAAEC,KAAK,CAAE,EAAT,CAAaC,QAAQ,CAAE,EAAvB,CAArB,CACA,cAAgCX,QAAQ,CAACS,YAAD,CAAxC,wCAAOG,QAAP,eAAiBC,WAAjB,eACA,eAAgCb,QAAQ,CAAC,KAAD,CAAxC,yCAAOc,QAAP,eAAiBC,WAAjB,eACA,GAAQL,MAAR,CAA4BE,QAA5B,CAAQF,KAAR,CAAeC,QAAf,CAA4BC,QAA5B,CAAeD,QAAf,CAEA,eAAgCX,QAAQ,CAAC,KAAD,CAAxC,yCAAOgB,QAAP,eAAiBC,WAAjB,eAEA,iBAAiBV,WAAW,CAAC,SAACW,KAAD,QAAWA,MAAX,EAAD,CAA5B,CAAQC,IAAR,cAAQA,IAAR,CAEA,GAAMC,SAAQ,CAAGd,WAAW,EAA5B,CACA,GAAMe,QAAO,CAAGlB,UAAU,EAA1B,CAEAF,SAAS,CAAC,UAAM,CACd,GAAIkB,IAAI,CAACG,KAAT,CAAgBD,OAAO,CAACE,IAAR,CAAa,GAAb,EACjB,CAFQ,CAEN,CAACJ,IAAI,CAACG,KAAN,CAAaD,OAAb,CAFM,CAAT,CAIA,GAAMG,kBAAiB,CAAG,QAApBA,kBAAoB,CAACC,CAAD,CAAO,CAC/B,cAAwBA,CAAC,CAACC,MAA1B,CAAQC,IAAR,WAAQA,IAAR,CAAcC,KAAd,WAAcA,KAAd,CACAf,WAAW,gCAAMD,QAAN,wBAAiBe,IAAjB,CAAwBC,KAAxB,GAAX,CACD,CAHD,CAKA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACJ,CAAD,CAAO,CAC1BA,CAAC,CAACK,cAAF,GACA,GAAI,CAAChB,QAAL,CAAe,CACbM,QAAQ,CAACf,KAAK,CAACO,QAAD,CAAN,CAAR,CACD,CAFD,IAEO,CACLQ,QAAQ,CAAChB,UAAU,CAACQ,QAAD,CAAX,CAAR,CACD,CACF,CAPD,CASA,mBACE,YAAK,SAAS,CAAC,WAAf,uBACE,cAAM,QAAQ,CAAEiB,YAAhB,CAA8B,SAAS,CAAC,cAAxC,wBACE,WAAI,SAAS,CAAC,+CAAd,4BADF,cAIE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,oBAAf,CAAoC,SAAS,CAAC,YAA9C,2BADF,cAIE,YAAK,SAAS,CAAC,8CAAf,uBACE,cACE,IAAI,CAAC,OADP,CAEE,SAAS,CAAC,eAFZ,CAGE,EAAE,CAAC,oBAHL,CAIE,mBAAiB,WAJnB,CAKE,QAAQ,CAAEL,iBALZ,CAME,KAAK,CAAEd,KANT,CAOE,IAAI,CAAC,OAPP,EADF,EAJF,cAeE,YAAK,EAAE,CAAC,WAAR,CAAoB,SAAS,CAAC,WAA9B,4DAfF,GAJF,cAuBE,aAAK,SAAS,CAAC,MAAf,wBACE,cAAO,OAAO,CAAC,uBAAf,CAAuC,SAAS,CAAC,YAAjD,sBADF,cAIE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,8CAAf,wBACE,cACE,IAAI,CAAEM,QAAQ,CAAG,MAAH,CAAY,UAD5B,CAEE,SAAS,CAAC,cAFZ,CAGE,EAAE,CAAC,uBAHL,CAIE,QAAQ,CAAEQ,iBAJZ,CAKE,KAAK,CAAEb,QALT,CAME,IAAI,CAAC,UANP,EADF,cASE,cAAO,OAAO,CAAE,yBAAMM,YAAW,CAAC,CAACD,QAAF,CAAjB,EAAhB,UACGA,QAAQ,CAAG,MAAH,CAAY,MADvB,EATF,GADF,EAJF,GAvBF,cA4CE,aAAK,SAAS,CAAC,0CAAf,wBACE,eAAO,OAAO,CAAC,MAAf,gCAEE,cACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,MAFL,CAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAEF,QAJT,CAKE,cAAc,KALhB,CAME,OAAO,CAAE,yBAAMC,YAAW,CAAC,KAAD,CAAjB,EANX,EAFF,GADF,cAaE,eAAO,OAAO,CAAC,OAAf,iCAEE,cACE,IAAI,CAAC,OADP,CAEE,EAAE,CAAC,OAFL,CAGE,IAAI,CAAC,QAHP,CAIE,KAAK,CAAED,QAJT,CAKE,OAAO,CAAE,yBAAMC,YAAW,CAAC,IAAD,CAAjB,EALX,EAFF,GAbF,GA5CF,cAqEE,eACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,wEAFZ,CAGE,QAAQ,CAAEL,KAAK,EAAIC,QAAT,CAAoB,KAApB,CAA4B,IAHxC,mBArEF,cA4EE,WAAG,SAAS,CAAC,MAAb,oCACyB,GADzB,cAEE,KAAC,IAAD,EAAM,EAAE,CAAC,WAAT,CAAqB,KAAK,CAAE,CAAEoB,KAAK,CAAE,SAAT,CAA5B,2BAFF,GA5EF,GADF,EADF,CAuFD,CAtHD,CAwHA,cAAevB,MAAf"},"metadata":{},"sourceType":"module"}